# Deadlocks (교착상태)

| <img width="432" alt="Screen Shot 2022-09-11 at 4 46 27 PM" src="https://user-images.githubusercontent.com/59877415/189517415-04fef6ae-810c-4c41-bd70-9a132243ef9c.png"> | 데드락이란?<br /><br />- 시스템 자원에 대한 요구가 뒤엉킨 상태<br />- 둘 이상의 프로세스가 서로가 가진 자원을 필요로 하며<br />무한 대기에 빠지는 상황 |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

---

### 데드락은 언제 발생할까?

- 조건1) Mutual exclusion (상호 배타)

  - 자원 공유가 불가능하다.
  - 예를 들어 특정 자원의 인스턴스가 2개이면 최대 2개의 프로세스만 해당 자원을 사용할 수 있다.

- 조건2) Hold and wait (보유 및 대기)

- 조건3) No Preemption (비선점)

  - 다른 프로세스가 보유중인 자원을 뺐어올 수 없다.

- 조건4) Circular wait (환형 대기)

  - 자원 할당도 상에 원이 만들어져야 한다.
  - 자원 할당도
    - 자원은 네모로, 자원의 인스턴스는 점으로, 프로세스는 원으로, 자원의 할당은 화살표로 표시된다.

  - | <img width="250" alt="Screen Shot 2022-09-11 at 5 07 05 PM" src="https://user-images.githubusercontent.com/59877415/189518018-844cd147-bad4-4248-b19a-d3b0d781910a.png"> | <img width="275" alt="Screen Shot 2022-09-11 at 5 07 17 PM" src="https://user-images.githubusercontent.com/59877415/189518021-a612908e-73d2-4e91-b884-1316e0a6e5c8.png"> |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | 환형대기 (O) Deadlock (O)                                    | 환형 대기 (O) Deadlock (X)                                   |

→ 위의 조건들은 데드락의 필요조건으로, **4가지 조건이 모두 만족**될 경우 데드락이 일어날 **수도** 있다.

---

